# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Swagger API Documentation

## Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…Ø³ØªÙ†Ø¯Ø§Øª

Ù…Ø³ØªÙ†Ø¯Ø§Øª ØªØ¹Ø§Ù…Ù„ÛŒ API Ø¯Ø± Ø¢Ø¯Ø±Ø³ Ø²ÛŒØ± Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª:

**ğŸ”— http://localhost:8889/api-docs**

(Ø¯Ø± production: `https://api.yourdomain.com/api-docs`)

## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Swagger UI

### 1. Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙ…Ø§Ù… Endpoints
- ØªÙ…Ø§Ù… API endpoints Ø¨Ù‡ ØªÙÚ©ÛŒÚ© Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ (Tags) Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
- Ù‡Ø± endpoint Ø´Ø§Ù…Ù„ ØªÙˆØ¶ÛŒØ­Ø§ØªØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ØŒ Ùˆ Ù†Ù…ÙˆÙ†Ù‡ Ù¾Ø§Ø³Ø® Ø§Ø³Øª

### 2. ØªØ³Øª Ù…Ø³ØªÙ‚ÛŒÙ… API
Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø§Ø² Ø¯Ø§Ø®Ù„ Swagger Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ API Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:

1. Ø±ÙˆÛŒ endpoint Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
2. Ø¯Ú©Ù…Ù‡ "Try it out" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
3. Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯
4. "Execute" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
5. Ù¾Ø§Ø³Ø® Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯

### 3. Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª

Ø¨Ø±Ø§ÛŒ endpoint Ù‡Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø´Ø¯Ù‡:

1. Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ **"Authorize"** (Ù‚ÙÙ„ Ø³Ø¨Ø²) Ø¯Ø± Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
2. ØªÙˆÚ©Ù† JWT Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ÙØ±Ù…Øª Ø²ÛŒØ± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:
   ```
   Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   ```
3. "Authorize" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
4. Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ endpoint Ù‡Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø´Ø¯Ù‡ Ø±Ø§ ØªØ³Øª Ú©Ù†ÛŒØ¯

### 4. Schema Ù‡Ø§
Ø¯Ø± Ø¨Ø®Ø´ "Schemas" Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ù‚ÛŒÙ‚ ØªÙ…Ø§Ù… Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
- User
- Test
- Queue
- QueueItem
- DoctorSettings
- Ùˆ ØºÛŒØ±Ù‡

## Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ API Ù‡Ø§

### ğŸ” Authentication
- Ø§Ø±Ø³Ø§Ù„ OTP
- ØªØ£ÛŒÛŒØ¯ OTP
- ØªÚ©Ù…ÛŒÙ„ Ù¾Ø±ÙˆÙØ§ÛŒÙ„

### ğŸ‘¤ Users
- Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„
- Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„

### ğŸ§ª Tests
- Ø¢Ù¾Ù„ÙˆØ¯ ØªØ³Øª
- Ù„ÛŒØ³Øª ØªØ³Øªâ€ŒÙ‡Ø§
- Ø¬Ø²Ø¦ÛŒØ§Øª ØªØ³Øª

### ğŸ“‹ Queue (Ø¬Ø¯ÛŒØ¯)
- Ù…Ø¯ÛŒØ±ÛŒØª ØµÙ
- Ø¹Ù…Ù„ÛŒØ§Øª Ø±ÙˆÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ØµÙ
- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø²Ø´Ú©

### ğŸ‘¨â€ğŸ’¼ Admin
- Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
- Ù…Ø¯ÛŒØ±ÛŒØª ØªØ³Øªâ€ŒÙ‡Ø§
- Ø¢Ù…Ø§Ø± Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§

### ğŸ“Š Analytics
- Ø±ÙˆÙ†Ø¯ Ùˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§
- ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯

## Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡

### Ù…Ø«Ø§Ù„ 1: Ø§Ø±Ø³Ø§Ù„ OTP

1. Ø¨Ù‡ Ø¨Ø®Ø´ "Authentication" Ø¨Ø±ÙˆÛŒØ¯
2. Ø±ÙˆÛŒ `POST /auth/send-otp` Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
3. "Try it out" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
4. Ø¯Ø± Request body:
   ```json
   {
     "phone": "09121234567"
   }
   ```
5. "Execute" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
6. Ù¾Ø§Ø³Ø® Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯

### Ù…Ø«Ø§Ù„ 2: Ø¯Ø±ÛŒØ§ÙØª ØµÙ Ø§Ù…Ø±ÙˆØ²

1. Ø§Ø¨ØªØ¯Ø§ Authorize Ú©Ù†ÛŒØ¯ (Ø¨Ø§ ØªÙˆÚ©Ù† JWT)
2. Ø¨Ù‡ Ø¨Ø®Ø´ "Queue" Ø¨Ø±ÙˆÛŒØ¯
3. Ø±ÙˆÛŒ `GET /doctor/{id}/queue/today` Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
4. "Try it out" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
5. `id` Ù¾Ø²Ø´Ú© Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ 1)
6. "Execute" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
7. Ù„ÛŒØ³Øª Ø¨ÛŒÙ…Ø§Ø±Ø§Ù† Ø¯Ø± ØµÙ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯

### Ù…Ø«Ø§Ù„ 3: Ø´Ø±ÙˆØ¹ ÙˆÛŒØ²ÛŒØª

1. Authorize Ø´Ø¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯
2. Ø¨Ù‡ `POST /queue-items/{id}/start` Ø¨Ø±ÙˆÛŒØ¯
3. "Try it out" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯
4. `id` Ø¢ÛŒØªÙ… ØµÙ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯
5. "Execute" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯

## Ù†Ú©Ø§Øª Ù…Ù‡Ù…

### Ú©Ø¯Ù‡Ø§ÛŒ ÙˆØ¶Ø¹ÛŒØª (Status Codes)
- **200**: Ù…ÙˆÙÙ‚
- **400**: Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±
- **401**: Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ù†Ø´Ø¯Ù‡
- **403**: Ø¯Ø³ØªØ±Ø³ÛŒ ØºÛŒØ±Ù…Ø¬Ø§Ø²
- **404**: ÛŒØ§ÙØª Ù†Ø´Ø¯
- **500**: Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±

### ÙØ±Ù…Øª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
- ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ùˆ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ø¨Ù‡ ÙØ±Ù…Øª JSON Ù‡Ø³ØªÙ†Ø¯
- ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ Ø¨Ù‡ ÙØ±Ù…Øª ISO 8601: `2025-11-15T09:00:00.000Z`
- Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†: `09XXXXXXXXX` (11 Ø±Ù‚Ù…)
- Ú©Ø¯ Ù…Ù„ÛŒ: 10 Ø±Ù‚Ù…

### Headers Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
```
Content-Type: application/json
Authorization: Bearer {JWT_TOKEN}
```

## Export Ú©Ø±Ø¯Ù† Ù…Ø³ØªÙ†Ø¯Ø§Øª

### Ø¯Ø±ÛŒØ§ÙØª JSON
Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø§ Ø¨Ù‡ ÙØ±Ù…Øª JSON Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯:

**http://localhost:8889/api-docs.json**

Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø± Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ù…Ø«Ù„ Postman import Ú©Ù†ÛŒØ¯.

### Import Ø¯Ø± Postman

1. ÙØ§ÛŒÙ„ JSON Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯
2. Ø¯Ø± Postman: File â†’ Import
3. ÙØ§ÛŒÙ„ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
4. ØªÙ…Ø§Ù… endpoint Ù‡Ø§ Ø¨Ù‡ Postman Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯

## Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

### ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø±
Ø§Ú¯Ø± Ø®Ø·Ø§ÛŒ 401 Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯:
- Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ ØªÙˆÚ©Ù† Ø±Ø§ Ø¨Ø§ `Bearer ` Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯
- ØªÙˆÚ©Ù† Ù…Ù†Ù‚Ø¶ÛŒ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
- ØªÙˆÚ©Ù† ØµØ­ÛŒØ­ Ø¨Ø§Ø´Ø¯

### CORS Error
Ø§Ú¯Ø± Ø§Ø² Ù…Ø±ÙˆØ±Ú¯Ø± ØªØ³Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ùˆ Ø®Ø·Ø§ÛŒ CORS Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯:
- Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ `CORS_ORIGIN` Ø¯Ø± `.env` ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡
- ÛŒØ§ Ø§Ø² Postman/curl Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯

### Schema Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
- ØµÙØ­Ù‡ Ø±Ø§ refresh Ú©Ù†ÛŒØ¯
- Cache Ù…Ø±ÙˆØ±Ú¯Ø± Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†ÛŒØ¯

## ØªÙˆØ³Ø¹Ù‡ Ù…Ø³ØªÙ†Ø¯Ø§Øª

Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† endpoint Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Swagger:

1. ÙØ§ÛŒÙ„ YAML Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø±Ø§ Ø¯Ø± `swagger-docs/` ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯
2. ÛŒØ§ Ø§Ø² JSDoc comments Ø¯Ø± ÙØ§ÛŒÙ„ route Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
3. Ø³Ø±ÙˆØ± Ø±Ø§ restart Ú©Ù†ÛŒØ¯

### Ù…Ø«Ø§Ù„ JSDoc

```javascript
/**
 * @swagger
 * /api/example:
 *   get:
 *     tags:
 *       - Example
 *     summary: Ù†Ù…ÙˆÙ†Ù‡ endpoint
 *     responses:
 *       200:
 *         description: Ù…ÙˆÙÙ‚
 */
router.get('/example', (req, res) => {
  res.json({ message: 'Hello' });
});
```

## Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯

- [OpenAPI Specification](https://swagger.io/specification/)
- [Swagger UI Documentation](https://swagger.io/tools/swagger-ui/)
- [Swagger Editor](https://editor.swagger.io/)

---

**Ù†Ú©ØªÙ‡**: Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø§ Ú©Ø¯ Ù‡Ù…Ú¯Ø§Ù… Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¢Ø®Ø±ÛŒÙ† ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.
